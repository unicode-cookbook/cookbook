\chapter{IPA meets Unicode}
\label{ipa-meets-unicode}

\section{The twain shall meet}

The International Phonetic Alphabet (IPA) is a common standard in linguistics to
transcribe sounds of spoken language into discrete segments using a Latin-based
alphabet. Although IPA is reasonably easily adhered to with pen and paper, it is
not trivial to encode IPA characters electronically. In this chapter we discuss
various pitfalls with the encoding of IPA in the Unicode Standard. We will
specifically refer to the 2015 version of the IPA \citep{IPA2015} and the 11.0.0 version of Unicode \citep{Unicode2018}.

As long as a transcription is only directed towards phonetically trained eyes,
then all the details of the Unicode-encoding are unimportant. For a linguist
reading an IPA transcription, many of the details that will be discussed in this
chapter might seem like hair-splitting trivialities. However, if IPA
transcriptions are intended to be used across resources (e.g.~searching similar
phenomena across different languages) then it becomes crucial that there are
strict encoding guidelines. Our main goal in this chapter is to present the
encoding issues and propose recommendations for a strict IPA encoding for
situations in which cross-resource consistency is crucial.

There are several pitfalls to be aware of when using the Unicode Standard to
encode IPA.\@ As we have said before, from a linguistic perspective it might
sometimes look like the Unicode Consortium is making incomprehensible decisions,
but it is important to realize that the consortium has tried and is continuing
to try to be as consistent as possible across a wide range of use cases, and it
does place linguistic traditions above other orthographic choices. Furthermore,
when we look at the history of how the IPA met Unicode, we see that many of the
decisions for IPA symbols in the Unicode Standard come directly from the
International Phonetic Association itself. Therefore, many pitfalls that we will
encounter have their grounding in the history of the principles of the IPA, as
well as in the technological considerations involved in creating a single
multilingual encoding. In general, we strongly suggest to linguists to not
complain about any decisions in the Unicode Standard, but to try and understand
the rationale of the International Phonetic Association and the Unicode
Consortium (both of which are almost always well-conceived in our experience)
and devise ways to work with any unexpected behavior.

Many of the current problems derive from the fact that the IPA is clearly
historically based on the Latin script, but different enough from most other
Latin-based writing systems to warrant special attention. This ambivalent status
of the IPA glyphs (partly Latin, partly special) is unfortunately also attested
in the treatment of IPA in the Unicode Standard. In retrospect, it might have
been better to consider the IPA (and other transcription systems) to be a
special kind of script within the Unicode Standard, and treat the obvious
similarity to Latin glyphs as a historical relic. All IPA glyphs would then have
their own code points, instead of the current situation in which some IPA glyphs
have special code points, while others are treated as being identical to the
regular Latin characters. Yet, the current situation, however unfortunate, is
unlikely to change, so as linguists we must learn to deal with the specific
pitfalls of IPA within the Unicode Standard. 

% ==========================
\section{Pitfall: No complete IPA code block}
\label{pitfall-no-complete-ipa-block}
% ==========================

The ambivalent nature of IPA glyphs arises because, on the one hand, the IPA
uses Latin-based glyphs like <a>, <b> or <p>. From this perspective, the IPA
seems to be just another orthographic tradition using Latin characters, all of
which do not get a special treatment within the Unicode Standard (just like
e.g.~the French, German, or Danish orthographic traditions do not have a special
status). On the other hand, the IPA uses many special symbols (like turned <ɐ>,
mirrored <ɘ> and/or extended <ɧ> Latin glyphs) not found in any other Latin-based
writing system. For this reason a special block with code points, called
\textsc{IPA Extensions} was already included in the first version of the Unicode
Standard (Version 1.0 from 1991).

As explained in Section~\ref{pitfall-blocks}, the Unicode Standard code space is
subdivided into character blocks, which generally encode characters from a
single script. However, as is illustrated by the IPA, characters that form a
single writing system may be dispersed across several different character
blocks. With its diverse collection of symbols from various scripts and
diacritics, the IPA is spread across 12 blocks in the Unicode
Standard:\footnote{This number of blocks depends on whether only IPA-sanctioned
symbols are counted or if the phonetic symbols commonly found in the literature
are also included, see~\cite[Appendix~C]{Moran2012}. The 159 characters from 12 
code blocks shown here are the characters proposed for strict IPA encoding, 
as discussed in Section~\ref{ipa-recommendations}.}

\begin{itemize}[itemsep=4pt]
	\item \textsc{Basic Latin }(27 characters) \newline 
	a b c d e f h i j k l m n o p q r s t u v w x y z~.~|
	\item \textsc{Latin-1 Supplement} (4 characters) \newline 
	æ ç ð ø
	\item \textsc{Latin Extended-A} (3 characters) \newline 
	ħ ŋ œ
	\item \textsc{Latin Extended-B} (4 characters) \newline 
	ǀ ǁ ǂ ǃ
	\item \textsc{Latin Extended-C} (1 character): \newline
	\charis{ⱱ}
	\item \textsc{IPA Extensions} (67 characters) \newline 
	ɐ ɑ ɒ ɓ ɔ ɕ ɖ ɗ ɘ ə ɛ ɜ ɞ ɟ ɠ ɡ ɢ ɣ ɤ ɥ ɦ ɧ ɨ ɪ ɬ ɭ ɮ ɯ ɰ ɱ ɲ ɳ ɴ \newline
	ɵ ɶ ɸ ɹ ɺ ɻ ɽ ɾ ʀ ʁ ʂ ʃ ʄ ʈ ʉ ʊ ʋ ʌ ʍ ʎ ʏ ʐ ʑ ʒ ʔ ʕ ʘ ʙ ʛ ʜ ʝ ʟ ʡ ʢ 
	\item \textsc{Greek and Coptic} (3 characters) \newline 
	β θ χ
	\item \textsc{Spacing Modifier Letters} (17 characters) \newline
	\dia{02DE} \dia{02E1} \dia{02B7} \dia{02B2} \dia{02E0} \dia{02E4} 
	\dia{02B0} \dia{02BC} \dia{02D0} \dia{02D1} ˥ ˦ ˧ ˨ ˩ {\large ˈ ˌ}
	\item \textsc{Superscripts and Subscripts} (1 character) \newline
	\dia{207F} 
	\item \textsc{Combining Diacritical Marks} (25 characters) \newline 
	\dia{033C} \dia{032A} \dia{033B} \dia{033A} \dia{031F} \dia{0320} \dia{031D} 
	\dia{031E} \dia{0318} \dia{0319} \dia{031C} \dia{0339} \dia{032C} \dia{0325} 
	\dia{0330} \dia{0324} \dia{0329} \dia{032F} \dia{0334} \dia{0303} \dia{0308} 
	\dia{033D} \dia{0306} \dia{031A} \ \dia{0361}{\large\fontspec{CharisSIL}◌}
    \item \textsc{General Punctuation} (2 characters) \newline 
    ‖ \charis{‿}
%	\item \textsc{Modifier Tone Letters} (2 characters) \newline
%	{\large\fontspec{CharisSIL}ꜛ ꜜ}
	\item \textsc{Arrows} (4 characters) \newline 
	↑ ↓ ↗ ↘

\end{itemize}

% ==========================
\section{Pitfall: IPA homoglyphs in Unicode}
\label{pitfall-ipa-homoglyphs}
% ==========================

Another problem is the large number of homoglyphs, i.e.~different characters
that have highly similar glyphs (or even completely identical glyphs, depending
on the font rendering). For example, a user of a Cyrillic computer keyboard
should ideally not use the <а> \textsc{cyrillic small letter a} at code point
\uni{0430} for IPA transcriptions, but instead use the <a> \textsc{latin small
letter a} at code point \uni{0061}, although visually they are mostly
indistinguishable, and the Cyrillic character is more easily typed on a Cyrillic
keyboard. Some further problematic homoglyphs related to encoding IPA in the
Unicode Standard are the following:

\begin{itemize}

   \item The uses of the apostrophe have led to long discussions on the Unicode
        Standard email list. An English keyboard inputs the symbol
        <\dia{0027}> \textsc{apostrophe} at \uni{0027}, although the preferred Unicode
        apostrophe is the <\dia{2019}> \textsc{right single quotation mark} at
        \uni{2019}.\footnote{Note that many word processors (like Microsoft
        Word) by default will replace straight quotes by curly quotes,
        depending on the whitespace around it.} However, the glottal
        stop/glottalization/ejective marker is yet another completely different
        character, namely <\dia{02BC}>, i.e.~the \textsc{modifier letter apostrophe} 
        at \uni{02BC}, which unfortunately looks extremely similar to
        \uni{2019}. 
  \item Another problem is the <\dia{02C1}> \textsc{modifier letter reversed glottal
        stop} at \uni{02C1} vs.\@ the <\dia{02E4}> \textsc{modifier letter small reversed
        glottal stop} at \uni{02E4}. Both appear in various resources
        representing phonetic data online. This is thus a clear example for
        which the Unicode Standard does not solve the linguistic standardization
        problem.
  \item Linguists are also unlikely to distinguish between the <ə>
        \textsc{latin small letter schwa} at code point \uni{0259} and <ǝ>
        \textsc{latin small letter turned e} at \uni{01DD}.
  \item The alveolar click <ǃ> at \uni{01C3} is of course often simply
        typed as <!> \textsc{exclamation mark} at \uni{0021}.\footnote{In the
        Unicode Standard the <ǃ> at \unif{01C3} is labeled \textsc{latin letter
        retroflex click}, but in IPA that glyph is used for an alveolar or
        postalveolar click (not retroflex). This naming is probably best seen as
        an error in the Unicode Standard. For the real retroflex click, see 
        Section~\ref{ipa-additions}.}
  \item The dental click <ǀ>, in Unicode known as \textsc{latin letter dental
        click} at \uni{01C0}, is often simply typed as <|> \textsc{vertical
        line} at \uni{007C}.
  \item For the marking of length there is a special Unicode character, namely
        <\dia{02D0}> \textsc{modifier letter triangular colon} at \uni{02D0}. However,
        typing <\dia{003A}> \textsc{colon} at \uni{003A} is of course much easier.        
  \item There are two mostly identical-looking Unicode characters for the superscript
        <ʰ>: the \textsc{combining latin small letter h} at \uni{036A} and the
        \textsc{modifier letter small h} at \uni{02B0}. Making the situation 
        even more problematic is that they have different behavior (see 
        Section~\ref{pitfall-different-notions-of-diacritics}). To harmonize the 
        behavior of <ʰ> with other superscript letters, we propose to 
        standardize on the modifier letter at \uni{02B0} (see 
        Section~\ref{pitfall-no-unique-diacritic-ordering}).
  
\end{itemize} 

Conversely, non-linguists are unlikely to distinguish any semantic difference
between an open back unrounded vowel, which is encoded in IPA with a
``single-story'' <ɑ> \textsc{latin small letter alpha} at \uni{0251}, and the open
front unrounded vowel, which is encoded in IPA with a ``double-story'' <a>
\textsc{latin small letter a} at \uni{0061}, basically treating them as
homoglyphs, although they are different phonetic symbols. But even among
linguists this distinction leads to problems. For example, as pointed out by
\citet{Mielke2009}, there is a problem stemming from the fact that about 75\% of
languages are reported to have a five-vowel system \citep{Maddieson1984}.
Historically, linguistic descriptions tend not to include precise audio
recording and measurements of formants, so this may lead one to ask if the many
<a> characters that are used in phonological description reflects a
transcriptional bias. The common use of <a> in transcriptions could be in part
due to the ease of typing the letter on an English keyboard (or for older
descriptions, the typewriter). We found it to be exceedingly rare that a
linguist uses <ɑ> for a low back unrounded vowel.\footnote{One example is
\citet[75]{Vidal2001}, in which the author states: ``The definition of Pilagá
/a/ as [+back] results from its behavior in certain phonological contexts. For
instance, uvular and pharyngeal consonants only occur around /a/ and /o/. Hence,
the characterization of /a/ and /o/ as a natural class of (i.e.\ [+back]
vowels), as opposed to /i/ and /e/.''} They simply use <a> as long as there is
no opposition to <ɑ>.

%\footnote{See Thomason's Language Log post, ``Why I don't love the International Phonetic Alphabet'' at:\url{http://itre.cis.upenn.edu/~myl/languagelog/archives/005287.html}.}

Making things even more problematic, there is an old typographic tradition that
the double-story <a> uses a single-story <ɑ> in italics. This leads to the
unfortunate effect that even in many well-designed fonts the italics of <a> and
<ɑ> use the same glyph. For example, in Linux Libertine (the font of this book)
the italics of these characters are highly similar, <\textit{a}> and
<\textit{ɑ}>, while in Charis SIL they are identical: <\textit{\charis{a}}> and
<\textit{\charis{ɑ}}>. If this distinction has to be kept upright in italics,
the only solution we can currently offer is to use \textsc{slanted} glyphs
(i.e.~artificially italicized glyphs) instead of real italics (i.e.~special
italics glyphs designed by a typographer).\footnote{For example, the widely used
IPA font Doulos SIL
(\url{https://software.sil.org/doulos/}) does not
have real italics. This leads some word-processing software, like Microsoft
Word, to produce slanted glyphs instead. That particular combination of font and
software application will thus lead to the desired effect distinguishing <a>
from <ɑ> in italics. However, note that when the text is transferred to another
font (i.e.~one that includes real italics) and/or to another software
application (like Apple Pages, which does not perform slanting), then this
visual appearance will be lost. In this case we are thus still in the
pre-Unicode situation in which the choice of font and rendering software
actually matters. The ideal solution from a linguistic point of view would be
the introduction of a new IPA code point for a different kind of <a>, which
explicitly specifies that it should still be rendered as a double-story
character when italicized. After informal discussion with various Unicode
players, our impression is that this highly restricted problem is not
sufficiently urgent to introduce even more <a> homographs in Unicode (which
already lead to much confusion, see Section~\ref{pitfall-homoglyphs}).} This 
approach was taken by the Language Science Press to distinguish 
between the two different orthographic <a>'s in Chakali in 
\cite{Brindle2017}.\footnote{\url{http://langsci-press.org/catalog/book/74}}

Lastly, before we move on from the pitfall of IPA homoglyphs in Unicode to the pitfall of 
homoglyphs in IPA, we are aware of one example that illustrates both pitfalls. 
Consider for example what one reviewer coined \textsc{i dot-suppression}. 
When combining, say the \textsc{latin small letter i} <i> at \uni{0069} with 
the \textsc{combining acute accent} <\dia{0301}> at \uni{0301}, the result is 
 the combination of these two characters into <í> or the associated 
precomposed form \textsc{latin small letter i with acute} <í> at \uni{00ED}. 
Typographically, the accent mark replaces the dot. In IPA, the <í> denotes 
a high front unrounded vowel with high tone. However, the result of losing 
the dot makes this IPA symbol look very similar to the near-high near-front 
unrounded vowel <ɪ>, when it also has the high tone marker: <ɪ́>. To boot, 
when an accent mark is added to \textsc{latin small letter i with stroke} <ɨ> at 
\uni{0268}, the dot is not suppressed but retained, i.e.\ <ɨ́>.\footnote{According 
to the Unicode Standard, \textsc{latin small letter i with stroke} <ɨ> at 
U+0268 cannot be decomposed into, say, \textsc{latin small letter i} <i> at 
U+0069 and \textsc{combining short stroke overlay} <\dia{0335}> at U+0335. 
We discuss the pitfall of missing decomposition forms 
in Section \ref{pitfall-missing-decomposition}.}


% ==========================
\section{Pitfall: Homoglyphs in IPA}
\label{pitfall-homoglyphs-in-IPA}
% ==========================

Reversely, there are a few cases in which the IPA distinguishes different
phonetic concepts, but the visual characters used by the IPA look very much
alike. Such cases are thus homoglyphs in the IPA itself, which of course need
different encodings.

\begin{itemize}
  
   \item The dental click <ǀ> and the indication of a minor group break <|>
           look almost the same in
           most fonts. For a proper encoding, the \textsc{latin letter dental
           click} at \uni{01C0} and the \textsc{vertical line }at \uni{007C} 
           should be used, respectively.
   \item Similarly, the alveolar lateral click <ǁ>	should be encoded with a
           \textsc{latin letter lateral click} at \uni{01C1}, different from <‖>, 
           which according to the IPA is the character to by used for a major group 
           break (by intonation), to be encoded by \textsc{double vertical line} 
           at \uni{2016}.
   \item The marking of primary stress < ˈ > looks like an apostrophe, and
           is often typed with the same symbol as the ejective <\dia{02BC}>. For a
           proper encoding, these two symbols should be typed as 
           \textsc{modifier letter vertical line} at \uni{02C8} and
           \textsc{modifier letter apostrophe} at \uni{02BC}, respectively. 
   \item There are two different dashed-l characters in IPA, namely the <ɫ> 	      \textsc{latin small letter l with middle tilde} at \uni{026B} and the <ɬ>	      \textsc{latin small letter l with belt} at \uni{026C}. These of course
          look highly similar, although they are different sounds. As a solution, 
          we will actually propose to not use the middle tilde at all 
          (see Section~\ref{pitfall-multiple-options-ipa}).     
   
\end{itemize}

% ==========================
\section{Pitfall: Multiple encoding options in IPA}
\label{pitfall-multiple-options-ipa}     
% ========================== 

It is not just the Unicode Standard that offers multiple options for encoding
the IPA.\@ Even the IPA specification itself offers some flexibility in how
transcriptions have to be encoded. There are a few cases in which the IPA
explicitly allows for different options of transcribing the same phonetic
content. This is understandable from a transcriber's point of view, but it is
not acceptable when the goal is interoperability between resources written in
IPA.\@ We consider it crucial to distinguish between valid IPA, for which it
is sufficient that any phonetically-trained reader is able to understand the
transcription, and strict IPA, which should be standardized on a single
unique encoding for each sound, so search will work across resources. We are
aware of the following non-unique encoding options in the IPA, which will be
discussed in turn below:

\begin{itemize}
  \item The marking of tone
  \item The marking of <g>
  \item The marking of velarization and pharyngealization
  \item The placement of diacritics
\end{itemize}

\noindent The first case in which the IPA allows for different encodings is the question
of how to transcribe tone (cf.\ \cite{Maddieson1990}). There is an old tradition 
to use diacritics on vowels to mark different tone levels \citep{IPA1949}. Prior to the 1989 Kiel 
convention, IPA-approved tone symbols included diacritics above or below the vowel or syllable, 
e.g.\ high and low tones marked with macrons (<\diaf{0304}>, <\diaf{0331}>), and acute and grave 
accents for high rising tone <\diaf{0301}>, low rising tone <\diaf{0317}>, high falling tone 
<\diaf{0300}> and low falling tone <\diaf{0316}>. These tone symbols, however,  
had failed to catch on (probably) due to aesthetic objections and matters of adequacy for 
transcription \citep[29]{Maddieson1990}.

After the 1989 Kiel convention, the accent tone symbols were updated to the tradition 
that we are familiar with today and which was already in wide use by Africanists and others, 
namely level tones <\diaf{030B}, \diaf{0301}, \diaf{0304}, \diaf{0300}, \diaf{030F}> 
and contour tones <\diaf{030C}, \diaf{0302}, \diaf{1DC4}, \diaf{1DC5}, \diaf{1DC8}>.\footnote{To make things even more
complicated, there are at least two different Unicode homoglyphs for the low and
high level tones, namely <\diaf{0340}> \textsc{combining grave tone mark} at
\unif{0340} vs.~<\diaf{0300}> \textsc{combining grave accent} at \unif{0300} for
low tone, and <\diaf{0341}> \textsc{combining acute tone mark} at \unif{0341}
vs.<\diaf{0301}> \textsc{combining acute accent} at \unif{0301} for high tone.} 
In addition, the IPA also adopted tone letters developed by \citet{Chao1930}, e.g.\ <˥˦˧˨˩>, 
which were in wide use by Asianists.\footnote{Not sanctioned
by the IPA, but nevertheless widely attested, is the use of superscript
numbers for marking tones, also proposed by \citet{Chao1930}. One issue to note here is 
that superscript numbers can be either regular numbers that are formatted as 
superscript with a text processor, or they can be separate superscript characters, 
as defined in the Unicode Standard (see: \url{https://en.wikipedia.org/wiki/Superscripts_and_Subscripts}). 
This divide means that searching text is dependent 
on how the author formatted or encoded the superscript numbers.} 
Tone letters in the IPA have five different levels,
and sequences of these letters can be used to indicate contours. Well-designed
fonts will even merge a sequence of tone letters into a contour. For example,
compare the font Linux Libertine, which does not merge tone letters
<{\fontspec{LinLibertineO}˥˨˧˩}>, with the font CharisSIL, which merges this
sequence of four tone letters into a single contour <\charis{˥˨˧˩}>. For strict
IPA encoding we propose to standardize on tone letters.

% IPA1999 pg 19
% "Either of the variant letter shapes [g] and [g] may be used to represent the voiced velar plosive."
% https://www.cambridge.org/core/journals/journal-of-the-international-phonetic-association/information/instructions-contributors

Second, we commonly encounter the use of <g> \textsc{latin small letter g} at
\uni{0067}, instead of the Unicode Standard IPA character for the voiced velar
stop <ɡ> \textsc{latin small letter script g} at \uni{0261}. One begins to
question whether this issue is at all apparent to the working linguist, or if
they simply use the \uni{0067} because it is easily keyboarded and thus saves
time, whereas the latter must be cumbersomely inserted as a special symbol in
most software. The International Phonetic Association has taken the stance that
both the keyboard \textsc{latin small letter g} and the \textsc{latin small
letter script g} are valid input characters for the voiced velar plosive 
\citep[19]{IPA1999}.\footnote{Note however that the current instructions for contributors to 
the Journal of the International Phonetic Association requires the use of 
opentail <ɡ> and not looptail <g>.}
Unfortunately, this decision further introduces ambiguity for linguists trying
to adhere to a strict Unicode Standard IPA encoding. For strict IPA encoding we
propose to standardize on the more idiosyncratic \textsc{latin small letter
script g} at \uni{0261}.

Third, the IPA has special markers for velarization <\dia{02E0}> and
pharyngealization <\dia{02E4}>. Confusingly, there is also a marker for
``velarized or pharyngealized'', using the <\dia{0334}> \textsc{combining tilde
overlay} at \uni{0334}. The tilde overlay seems to be extremely rarely used. We 
suggest to try and avoid using the tilde overlay, though for reasons of backward 
compatibility we will allow it in valid-IPA.\@

Finally, the IPA states that ``diacritics may be placed above a symbol with a
descender''. For example, for marking of voiceless pronunciation of
voiced segments the IPA uses the ring diacritic. Originally, the ring should be
placed below the base character, like in <m̥>, using the \textsc{combining ring
below} at \uni{0325}. However, in letters with long descenders the IPA also
allows to put the ring above the base, like in <ŋ̊>, using the \textsc{combining
ring above} at \uni{030A}. Yet, proper font design does not have any problem
with rendering the ring below the base character, like in <ŋ̥>, so for strict
IPA encoding we propose to standardize on the ring below. As a principle, for
strict IPA encoding only one option should be allowed for all diacritics.

The variable encoding as allowed by the IPA becomes even more troublesome for
the tilde and diaeresis diacritics. In these cases, the IPA itself attaches
different semantics to the symbols above and below a base characters. The tilde
above a character (like in <ã>, using the \textsc{combining tilde} at
\uni{0303}) is used for nasalization, while the tilde below a character (like in
<a̰>, using the \textsc{combining tilde below} at \uni{0330}) indicates creaky
voice. Likewise, the diaeresis above (like in <ä>, using the \textsc{combining
diaeresis} at \uni{0308}) is used for centralization, while the diaeresis below
a character (like in <a̤>, using the \textsc{combining diaeresis below} at
\uni{0324}) indicates breathy voice. These cases strengthen our plea to not
allow diacritics to switch position for typographic convenience.

% length IPA 1999:22
% "Note: as in Finnish orthography, length can also be indicated in phonetic
% transcription by double letters: e.g . Finnish maatto [rncctto] 'electrical
% earth/ground'."

% syllable breaks and word boundaries <\s, ., |, ||, tie-bar below>
% White spaces can be used to indicate word boundaries. Syllable breaks can be
% marked when required. The other two boundary symbols are used to mark the domain
% of larger prosodic units. There is also a linking symbol that can be used for
% explicitly indicating the lack of a boundary.

% (In all these transcriptions, no spaces between words have been included. This
% is inevitable in an impressionistic transcription where it is not yet known how
% the utterance divides into words. In phonemic and allophonic transcriptions it
% is common to include spaces to aid legibility, but their theoretical validity is
% problematic.)


% ==========================
\section{Pitfall: Tie bar}
\label{pitfall-tie-bar}
% ==========================

% Wells1995:10 "The underscore could in principle also be pressed into service
% to represent the IPA tie bar. The current chart mentions its use only for
% affricates and double articulations, and then only "if necessary"."

In the major revision of the IPA in 1932, affricates were represented by two
consonants <tʃ>, ligatures <ʧ>, or with the tie bar <t͡ʃ>. In the
1938 revision the tie bar's semantics were broadened to indicate simultaneous
articulation, as for example in labial velars such as <k͡p>. Thus, the tie bar is a
convenient diacritic for visually tokenizing input strings into chunks of
phonetically salient groups, including affricates, doubly articulated consonants
or diphthongs. 

The tie bar can be placed above or below the base characters, e.g.
<\charis{t͡s}> or <\charis{t͜s}>. IPA allows both options. The choice between
the two symbols is purely for legible rendering; there is no difference in
semantics between the two symbols. However, rendering is such a problematic
issue for tie bars in general that many linguists simply do not use them. Just
looking at a few different fonts already indicates that actually no font
designer really gets the placement right in combination with superscripts and
subscripts. If really necessary, we propose to standardize on the tie bar above
the base characters, using a \textsc{combining double inverted breve} at
\uni{0361}.\footnote{Also note that the \textsc{undertie} at \unif{203F} looks
like the tie bar below and is easily confused with it. However, it is a
different character and has a different function in IPA. The undertie is used as
a linking symbol to indicate the lack of a boundary, e.g.\ French \textit{petit
ami} [pətit\charis{‿}ami] `boyfriend'.}

\begin{itemize}[itemsep=6pt]
  \item[] {\fontspec{Times New Roman}Times new Roman: t̥ʰ͡s t̥ʰ͜s}
  \item[] {\small \fontspec{CharisSIL}CharisSIL:\@ t̥ʰ͡s t̥ʰ͜s}
  \item[] {\footnotesize \fontspec{Monaco}Monaco: t̥ʰ͡s t̥ʰ͜s}
  \item[] {\fontspec{DoulosSIL}DoulosSIL:\@ t̥ʰ͡s t̥ʰ͜s}
  \item[] Linux Libertine: t̥ʰ͡s t̥ʰ͜s
\end{itemize}

Tie bars are a special type of character in the sense that they do not belong to
a segment, but bind two graphemes together. This actually turns out to be rather
different from Unicode conceptions. The Unicode encoding of this character
belong to the Combining Diacritical Marks, namely either \textsc{combining double
inverted breve} at \uni{0361} or \textsc{combining double breve below} at
\uni{035C}. Such a combining mark is by definition tied to the character in
front, but not the character following it. The Unicode treatment of this
character thus only partly corresponds to the IPA conception, which ideally
would have the tie bar linked both to the character in front and to the
character following. 

Further, according to the spirit of the IPA, it would also be possible to
combine more than two base characters into one tie bar, but this is not possible
with Unicode (i.e.~there is no possibility to draw a tie bar over three or four
characters). It is possible to indicate such larger groups by repeating the tie
bar, like for a triphthong <a͡ʊ͡ə> in the English word \textit{hour}. If really
necessary, we consider this possible, even though the rendering will never look
good. 

Most importantly though, in comparison to normal Unicode processing, the tie bar
actually takes a reversed approach to complex graphemes. Basically, the Unicode
principle (see Section~\ref{pitfall-characters-are-not-graphemes}) is that fixed
sequences in a writing system have to be specified as tailored grapheme
clusters. Only in case the sequence is not a cluster, then this has to be
explicitly indicated. IPA takes a different approach. In IPA by default
different base letters are not connected into larger clusters; only when it is
specified in the string itself (using the tie bar).

% ==========================
\section{Pitfall: Ligatures and digraphs}
\label{pitfall-ligatures-digraphs}     
% ==========================   

% TODO: link back to discussion on IPA principles and how ligatures got brought
% along historically

One important distinction to acknowledge is the difference between multigraphs
and ligatures. Multigraphs are groups of characters (in the context of IPA e.g.
<tʃ> or <ou>) while ligatures are single characters (e.g.\ <ʧ> \textsc{latin
small letter tesh digraph} at \uni{02A7}). Ligatures arose in the context of
printing easier-to-read texts, and are included in the Unicode Standard for
reasons of legacy encoding. However, their usage is discouraged by the Unicode
core specification. Specifically related to IPA, various phonetic combinations
of characters (typically affricates) are available as single code points in the
Unicode Standard, but are designated \textsc{digraphs}. Such glyphs might be used by
software to produce a pleasing display, but they should not be hard-coded into
the text itself. In the context of IPA, characters like the following ligatures
should thus \emph{not} be used. Instead a combination of two characters is
preferred:
      
\begin{itemize} 
	\item[] <ʣ> \textsc{latin small letter dz digraph} at \uni{02A3} 
	  (use <dz>) 
    \item[] <ʤ> \textsc{latin small letter dezh digraph} at \uni{02A4}
      (use <dʒ>)
    \item[] <ʥ> \textsc{latin small letter dz digraph with curl} at \uni{02A5}
      (use <dʑ>)
    \item[] <ʦ> \textsc{latin small letter ts digraph} at \uni{02A6} 
      (use <ts>)
	\item[] <ʧ> \textsc{latin small letter tesh digraph} at \uni{02A7} 
	  (use <tʃ>) 
    \item[] <ʨ> \textsc{latin small letter tc digraph with curl} at \uni{02A8}
      (use <tɕ>)
   	\item[] <ʩ> \textsc{latin small letter feng digraph} at \uni{02A9}
	  (use <fŋ>) 
\end{itemize}

However, there are a few Unicode characters that are historically ligatures, but
which are today considered as simple characters in the Unicode Standard and thus
should be used when writing IPA, namely:

\begin{itemize}
	\item[] <ɮ> \textsc{latin small letter lezh} at \uni{026E} 
	\item[] <œ> \textsc{latin small ligature oe} at \uni{0153} 
	\item[] <ɶ> \textsc{latin letter small capital oe} at \uni{0276} 
	\item[] <æ> \textsc{latin small letter ae} at \uni{00E6} 
\end{itemize}

% ==========================
\section{Pitfall: Missing decomposition}
\label{pitfall-missing-decomposition}
% ==========================

Although many combinations of base character with diacritic are treated as
 with precomposed characters, there are a few combinations
in IPA that allow for multiple, apparently identical, encodings that are not
 (see Section~\ref{pitfall-canonical-equivalence} on the
principle of canonical equivalence). For that reason, the following elements
should not be treated as diacritics when encoding IPA in Unicode:
\begin{itemize}
  \item[] <{\fontspec{CharisSIL}{\large ◌}}\symbol{"0321}> \textsc{combining palatalized hook below} at \uni{0321}
  \item[] <{\fontspec{CharisSIL}{\large ◌}}\symbol{"0322}> \textsc{combining retroflex hook below} at \uni{0322}
  \item[] <\dia{0335}> \textsc{combining short stroke overlay} at \uni{0335}
  \item[] <\dia{0337}> \textsc{combining short solidus overlay} at \uni{0337}
\end{itemize} 

There turn out to be a lot of characters in the IPA that could be conceived as
using any of these elements, like <ɲ>, <ɳ>, <ɨ> or <ø>. However, all such
characters exist as well as precomposed combination in Unicode, and these
precomposed characters should preferably be used. When combinations of a base character with
diacritic are used instead, then these combinations are not  to the
precomposed combinations. This means that any search will not find both at the
same time.

% \footnote{The IPA does not
% describe any character for a voiced retroflex implosive, which would
% transparently be \charis{ᶑ}. We propose to add this character to the IPA, see
% Section~\ref{ipa-additions}.} 

A similar problem arises with the rhotic hook. There are two precomposed
characters in Unicode with a rhotic hook, which are not  
with a combination of the vowel with a separately encoded hook:
\begin{itemize}
  \item[] <ɚ> \textsc{latin small letter schwa with hook} at \uni{025A}
  \item[] <ɝ> \textsc{latin small letter reversed open e with hook} at \uni{025D}
\end{itemize}
All other combinations of vowels with rhotic hooks will have to be made by using
<\dia{02DE}> \textsc{modifier letter rhotic hook} at \uni{02DE}, because there
is no complete set of precomposed characters with rhotic hooks in Unicode. For
that reason we propose to not use the two precomposed characters with hooks
mentioned above, but always use the separate rhotic hook at \uni{02DE} in IPA.\@

A similar situation arises with <\dia{0334}> \textsc{combining tilde overlay} at
\uni{0334}. The main reason some phoneticians like to use this in IPA is to mark
the dark <l> in English codas, using the character <ɫ> \textsc{latin small
letter l with middle tilde} at \uni{026B}. This character is not canonically
equivalent to the combination <l>~+~<\dia{0334}>, so one of the two possible
encodings has to be chosen. Because the tilde overlay is described as a general
mechanism by the IPA, we propose to use the separated <\dia{0334}>
\textsc{combining tilde overlay} at \uni{0334}. However, note that phonetically 
this seems to be (almost) superfluous (see Section~\ref{pitfall-multiple-options-ipa}) 
and the typical usage in the form of <ɫ> is (almost) a homoglyph with <ɬ> (see 
Section~\ref{pitfall-homoglyphs-in-IPA}). For these reasons we also suggest to try 
and avoid the tilde overlay completely.

Reversely, note that the <ç> \textsc{latin small letter c with cedilla} at
\uni{00E7} is  with <c> with <\dia{0327}>
\textsc{combining cedilla} at \uni{0327}, so it will be separated into two
characters by Unicode canonical decomposition, also if such a decomposition is
not intended in the IPA.\@ However, because of the nature of canonical
equivalence (see Section~\ref{pitfall-canonical-equivalence}), these two
encodings are completely identical in any computational treatment, so this
decomposition does not have any practical consequences.

% ==========================
\section{Pitfall: Different notions of diacritics}
\label{pitfall-different-notions-of-diacritics}
% ==========================

% TODO: this section is wrong wrt IPA diacritics and needs updating @SM

Another pitfall relates to the question, what is a diacritic? The problem is that
the meaning of the term \textsc{diacritic} as used by the IPA is not the same as it is used
in the Unicode Standard. Specifically, diacritics in the IPA-sense are either
so-called \textsc{combining diacritical marks} or \textsc{spacing modifier
letters} in the Unicode Standard. Crucially, Combining Diacritical Marks are by
definition combined with the character before them (to form so-called default
grapheme clusters, see Chapter~\ref{the-unicode-approach}). In contrast, Spacing
Modifier Letters are by definition \emph{not} combined into grapheme clusters
with the preceding character, but simply treated as separate letters. In the
context of the IPA, the following IPA-diacritics are actually Spacing Modifier
Letters in the Unicode Standard:

\begin{itemize}
  
	\item[] Length marks, namely: 
    	\begin{itemize}
    	  \item[] <\dia{02D0}> \textsc{modifier letter triangular colon} at \uni{02D0}
    	  \item[] <\dia{02D1}> \textsc{modifier letter half triangular colon} at \uni{02D1}
    	\end{itemize}
	 
	\item[] Tone letters, including but not limited to: 
	\begin{itemize} 
	  \item[] <˥> \textsc{modifier letter extra-high tone bar} at \uni{02E5}
	  \item[] <˨> \textsc{modifier letter low tone bar} at \uni{02E8}
	\end{itemize}
	
	\item[] Superscript letters, including but not limited to:\footnote{The Unicode Standard defines the 
	  \textit{Phonetic Extensions} block that defines symbols used in phonetic notation 
	  systems, including the Uralic Phonetic Alphabet, Americanist and Russianist phonetic notations, 
	  Oxford English and American dictionaries, etc. Among other symbols, the 
	  \textit{Phonetic Extensions} block includes 
	  the superscript letters <\textsuperscript{m, ŋ, b}>, which are not valid 
	  IPA characters, although we have seen them used in linguistic practice.}
	\begin{itemize}
	  \item[] <\dia{02B0}> \textsc{modifier letter small h} at \uni{02B0}
	  \item[] <\dia{02E4}> \textsc{modifier letter small reversed glottal stop} at \uni{02E4}
	  \item[] <\dia{207F}> \textsc{superscript latin small letter n} at \uni{207F}
	\end{itemize}
	
	\item[] The rhotic hook:\footnote{It is really unfortunate that the rhotic hook
         in Unicode is classified as a Spacing Modifier, and not as a Combining 
         Diacritical Mark. Although the rhotic hook is placed to the right of its 
         base character (and not above or below), it still is always connected 
         to the character in front, even physically connected to it. We cannot 
         find any reason for this treatment, and consider it an error in 
         Unicode. We hope it will be possible to change this classification in 
         the future.}
	\begin{itemize}
	  \item[] <\dia{02DE}> \textsc{modifier letter rhotic hook} at \uni{02DE}
	\end{itemize}
	
\end{itemize}

Although linguists might expect these characters to belong together with the
character in front of them, at least for tone letters, stress symbols and <ʰ>
\textsc{modifier letter small h} at \uni{02B0} the Unicode Consortium's decision
to treat it as a separate character is also linguistically correct.

\begin{itemize}
  
   \item According to the IPA, <ʰ> can be used both as <\dia{02B0}> for
         post-aspiration (following the base character) and as
         <\diareverse{02B0}> for pre-aspiration (preceding the base
         character), so there is no consistent direction in which this
         diacritic should bind. Note that there is yet another homoglyph,
         namely the \textsc{combining latin small letter h} at \uni{036A}.
         We propose not to use this combining diacritical mark, but to
         standardize on Unicode modifier letters for all superscript
         letters in IPA.
  
   \item Tone letters <˥, ˦, ˧, ˨, ˩> from \uni{02E5}--\uni{02E9} 
   		 are normally written at the end of the syllable,
         possibly occurring immediately adjacent to a consonant in the coda of
         the syllable. Such tone markers should of course not be treated as
         belonging to this consonant, so we propose to treat tone letters as 
         separate segments.
 
   \item Stress markers <\diareverse{02C8}> at \uni{02C8} and
         <\diareverse{02CC}> at \uni{02CC} have a very similar
         distribution in that they normally are written at the start of
         the stressed syllable. In a sense, they thus belong to the
         characters following the stress marker, but it would be wrong to
         cluster them together with whatever segment is at the start of
         the syllable. So, like tone letters, we propose to treat stress
         markers as separate segments.
 
\end{itemize}

\noindent If intended, then any default combination of Spacing Modifiers
with the preceding character can be specified in orthography profiles (see
Chapter~\ref{orthography-profiles}). 

% ==========================
\section{Pitfall: No unique diacritic ordering}
\label{pitfall-no-unique-diacritic-ordering}
% ==========================

Also related to diacritics is the question of ordering. To our knowledge, the
International Phonetic Association does not specify an ordering for
diacritics that combine with phonetic base symbols; this exercise is left to the
reasoning of the transcriber. However, such marks have to be explicitly ordered
if sequences of them are to be interoperable and compatible computationally. An example is a
labialized aspirated alveolar plosive: <tʷʰ>. There is nothing holding linguists
back from using <tʰʷ> instead (with exactly the same intended meaning). However,
from a technical standpoint, these two sequences are different; if both
sequences are used in a document, searching for <tʷʰ> will not find any
instances of <tʰʷ>, and vice versa. Likewise, a creaky voiced syllabic dental
nasal can be encoded in various orders, e.g.\ <n̪̰̩>, <n̩̰̪> or <n̩̪̰>.

\subsubsection*{Canonical combining classes}

In accordance with the absence of any specification of ordering in the IPA, the
Unicode Standard likewise does not propose any standardized orders. Both leave it
to the user to be consistent; this approach naturally invites inconsistency across 
different authored resources.

There is one (minor) aspect of ordering for which the Unicode Standard does
present a canonical solution. Fortunately, this is uncontroversial from a
linguistic perspective. Diacritics in the Unicode Standard (i.e.~Combining
Diacritical Marks, see Section~\ref{pitfall-different-notions-of-diacritics})
are classified in so-called \textsc{canonical combining classes}. In practice,
the diacritics are distinguished by their position relative to the base
character.\footnote{For a detailed description, see: 
\url{http://unicode.org/reports/tr44/\#Canonical\_Combining\_Class\_Values}.} 
When applying a Unicode normalization (NFC or NFD, see
Section~\ref{pitfall-canonical-equivalence}), the diacritics in different
positions are put in a specified order. This process therefore harmonizes the
difference between different encodings in some situations, for example in the
case of an extra-short creaky voice vowel <ḛ̆>. This grapheme cluster can be
encoded either as <e>+<\dia{0306}>+<\dia{0330}> or as
<e>+<\dia{0330}>+<\dia{0306}>. To prevent this twofold encoding, the Unicode
Standard specifies the second ordering as canonical (namely, diacritics
below are put before diacritics above).

% The next paragraph does not belong here - we should put it somewhere else

When encoding a string according to the Unicode Standard, it is possible to do
this either using the NFC (composition) or NFD (decomposition) normalization (see
Section~\ref{pitfall-canonical-equivalence}).
Decomposition implies that precomposed characters (like <á> \textsc{latin small
letter a with acute} at \uni{00E1}) will be split into its parts. This might
sound preferable for a linguistic analysis, as the different diacritics are
separated from the base characters. However, note that most attached elements
like strokes (e.g.~in the <ɨ>), retroflex hooks (e.g.~in <ʐ>) or rhotic hooks
(e.g.~in <ɝ>) will not be decomposed. In
general, Unicode decomposition does not behave like a feature decomposition as
expected from a linguistic perspective. It is thus important to consider Unicode
decomposition only as a technical procedure, and not assume that it is
linguistically sensible.

\subsubsection*{Proposal for diacritic ordering}

Facing the problem of specifying a consistent ordering of diacritics while
developing a large database of phonological inventories from the world's
languages, \citet[540]{Moran2012} defined a set of diacritic ordering
conventions. The conventions are influenced by the linguistic literature, though
some ad-hoc decisions had to be taken given the vast variability of phonological
segments described by linguists. The most recent version of the conventions 
is published online by~\citet{MoranMcCloy2014}.\footnote{\url{http://phoible.github.io/conventions/}}

According to Unicode Canonical Combining Classes, overlay diacritics 
like <\dia{0334}> (Combining Class number 1) always come before diacritics
below (Combining Class number 220), which in turn always come before diacritics
above (Combining Class number 230), which in turn come before diacritics over
multiple characters like the tie bar <\dia{0361}{\large\fontspec{CharisSIL}◌}>
(Combining Class number 233). We follow this order, but add the other IPA
diacritics (which are not diacritics in the Unicode sense) between diacritics
below and the tie bar. Further, \textit{within} all these classes of diacritics
there is no canonical ordering specified by Unicode, so we propose an explicit
ordering here.

Starting with the diacritics below: if a character sequence contains more than
one diacritic below the base character, then the place features are applied
first (linguolabial, dental, apical, laminal, advanced, retracted), followed by
the manner features (raised, lowered, advanced and retracted tongue root), then
secondary articulations (more round, less round), laryngeal settings (creaky,
breathy, voiced, devoiced), and finally the syllabic or non-syllabic marker. So,
the order that is proposed is the following, where <\textbar{}> indicates
\textit{or} and <→> indicates \textit{precedes}. Note that the groups of
alternatives (as marked by <\textbar{}>) are supposed never to occur together
with the same base character. In effect, this represents yet another restriction
on possible diacritic sequences.

\begin{itemize}
	\item[] \textsc{Combining Diacritical Marks (below) ordering:}
	\begin{itemize}	
	  \item[→] linguolabial <\dia{033C}> \textbar{} dental <\dia{032A}> \textbar{} apical <\dia{033A}> \textbar{} laminal <\dia{033B}>
	  \item[→] advanced <\dia{031F}> \textbar{} retracted <\dia{0320}> 
	  \item[→] raised <\dia{031D}> \textbar{} lowered <\dia{031E}>
	  \item[→] advanced tongue root <\dia{0318}> \textbar{} retracted tongue root <\dia{0319}>
	  \item[→] more rounded <\dia{0339}> \textbar{} less rounded <\dia{031C}>
	  \item[→] creaky voiced <\dia{0330}> \textbar{} breathy voiced <\dia{0324}> \textbar{} voiced <\dia{032C}> \textbar{} voiceless <\dia{0325}>
	  \item[→] syllabic <\dia{0329}> \textbar{} non-syllabic <\dia{032F}>
	\end{itemize}
 \end{itemize}

\noindent Next, if a character sequence contains more than one diacritic above the base
character, we propose the following order:

\begin{itemize}
	\item[] \textsc{Combining Diacritical Marks (above) ordering:}
	\begin{itemize}
	  \item[→] nasalized <\dia{0303}>
	  \item[→] centralized <\dia{0308}> \textbar{} mid-centralized <\dia{033D}>
	  \item[→] extra short <\dia{0306}>
	  \item[→] no audible release <\dia{031A}\ >
 \end{itemize} \end{itemize}

\noindent Then, when a character sequence contains more than one character of the Spacing
Modifier Letters, these will be placed after all combining diacritical marks in the
following order:

\begin{itemize}
	\item[] \textsc{Spacing Modifier Letters ordering:}
	\begin{itemize}
	  \item[→] rhotic hook <\dia{02DE}>
	  \item[→] lateral release <\dia{02E1}> \textbar{} nasal release <\dia{207F}>
	  \item[→] labialized <\dia{02B7}>
	  \item[→] palatalized <\dia{02B2}>
	  \item[→] velarized <\dia{02E0}>
	  \item[→] pharyngealized <\dia{02E4}>
	  \item[→] aspirated <\dia{02B0}> \textbar{} ejective <\dia{02BC}>
	  \item[→] long <\dia{02D0}> \textbar{} half-long <\dia{02D1}>
	\end{itemize}
\end{itemize}

\noindent Finally, the tie bar follows at the very end of any such sequence:

\begin{itemize}
  \item[] \textsc{Tie bar:}
  \begin{itemize}
%    \item[→] tone letters <˥ ˦ ˧ ˨ ˩>
    \item[→] tie bar <\dia{0361}{\large\fontspec{CharisSIL}◌}>
  \end{itemize}
\end{itemize}

% ==========================
\section{Pitfall: Revisions to the IPA}
\label{ipa-revisions}
% ==========================

With each revision of the IPA, many decisions need to be made by 
the Association as to which symbols should be added, removed or 
changed. For example, in the 1989 revision of the IPA at the Kiel Convention, 
changes to specific symbols (in previous charts) were debated and 
the Association's members made certain decisions. The prevailing mood at 
the convention was not to change specific symbols unless a strong 
case was made \citep{Ladefoged1990a}. For example, two such decisions 
included:

\begin{itemize}
	\item Symbols for clicks were changed from <ʇ~ʖ~ʗ> to <ǀ~ǁ~ǃ>
       because the latter were the symbols used by nearly all Khoisanists and
       Bantuists.
	\item The Americanist tradition of using using <\dia{030C}>, a
       \textsc{combining caron}\\ at \uni{030C} for all postalveolar sounds, like
       in <š~ž~č~ǰ>, was not adopted because the Association members at the
       convention ``were not sufficiently impressed by arguments ... to the
       effect that these sounds formed a natural class, and thus is would be
       appropriate to recognize this by maintaining a common aspect to their
       symbolism'' \citep[62]{Ladefoged1990a}. 
\end{itemize}

\noindent These decisions have practical consequences for transcribers 
of IPA, particularly those who wish to follow current recommended practices of 
encoding electronic text in the Unicode Standard. For example, the Unicode 
Standard contains \textsc{latin small letter turned t} <ʇ> at U+0287, 
which is no longer part of the IPA. It still exists, however, in the Unicode 
\textsc{IPA Extensions} block, with the comment ``dental click (sound of `tsk tsk')''. 
In such cases, the IPA transcriber must know the status of legacy symbols in the current 
version of the IPA and the correct characters in the Unicode Standard.

The most controversial issue regarding symbols debated at the convention was the
representation for voiceless implosives \citep[62]{Ladefoged1990a}. In
accordance with the principles of the IPA, as outlined in Section
\ref{the-international-phonetic-alphabet}, distinct symbols are favored for
cases of phonological contrast. Further, convenience of display in the chart 
must also be taken into account when arguing for or against the inclusion or deletion
of IPA symbols in the IPA chart. Finally, the inclusion or deletion of symbols
should consider the current state of phonetic knowledge of the world's
languages.

\citet{Ladefoged1990a} argued against the inclusion of the symbols < ƥ, ƭ, ƈ, ƙ,
ʠ > for voiceless implosives, noting (i) that they are not contrastive (e.g.\ in
Mayan languages); (ii) that there is no instrumental evidence supporting
voiceless implosives in Africa; and (iii) that the sounds are sufficiently rare
so as not to need a whole new row of symbols in the chart. Ladefoged favored
symbolizing the sounds using a voiceless diacritic ring below voiced implosives,
e.g.\ <ɓ̥>. Nevertheless, in the 1989 IPA chart there is indeed a row for
implosives containing voiceless and voiced
pairs.\footnote{https://en.wikipedia.org/wiki/File:IPA\_as\_of\_1989.png} 
But in the next revision, in 1993 (with an update in 1996), the voiceless
implosives were dropped. The implosives row from the IPA consonantal chart
disappeared and voiced implosives were given a column in the non-pulmonic
consonants table (which is still reflected in the latest revision to date, IPA
2005).

The \textit{Journal of the International Phonetic Association} follows its own 
published standard for the IPA at the time of publication, even when it 
may conflict with the Association's principle of using different symbols 
for contrastive sounds and diacritics for phonetic variation. For example, 
in the case of voiceless implosives, \citet{McLaughlin2005} shows that 
Seereer-Siin (Niger-Congo, Atlantic; ISO 639-3 srr) has a phonologically 
contrastive set of voiced and voiceless implosive stops at the labial, 
coronal and palatal places of articulation. These symbols are transcribed 
in an \textit{Illustrations of the IPA} article in the IPA journal as 
< ɓ̥, ɗ̥, ʄ̥ >.

The point of this pitfall is to highlight that revisions to the IPA will 
continue into the future, albeit infrequently. Nevertheless, 
given the Unicode Standard's principle of maintaining backwards compatibility 
(at all costs), transcribers and consumers of IPA cannot rely solely on 
remarks in the Unicode Standard to reflect current standard IPA usage. 
There is the possibility that at a later revision of the IPA, symbols that 
are not currently encoded in the Unicode Standard will be added to the IPA -- 
although we think this is unlikely. 

% ==========================
\section{Additions to the IPA}
\label{ipa-additions}
% ==========================

In the course of collecting a large sample of phoneme systems across the world's
languages, \citet{Moran_etal2014} found that in order 
to preserve distinctions both within and across language descriptions, 
additions to the approved IPA glyph set were needed. Wherever possible 
these additions were drawn from the extIPA symbols for disordered
speech \citep{Duckworth_etal1990}.\footnote{\url{https://www.internationalphoneticassociation.org/sites/default/files/extIPAChart2008.pdf}}
This section describes these proposed additions to the IPA glyph set. The
additions are not part of the official IPA recommendations, so they should be 
used with caution.

\begin{itemize}
  
\item \textsc{Retroflex click} \newline
      Retroflex clicks can be represented by <‼> \textsc{double exclamation
      mark} at \uni{203C}. Note that the (post-)alveolar click <ǃ> at \uni{01C3}
      is confusingly referred to as \textsc{latin letter retroflex click} in the
      Unicode Standard, which is probably best considered an error.
\item \textsc{Voiced retroflex implosive} \newline 
      Although the IPA includes a
      series of voiced implosives (marked with a hook on top, see
      Section~\ref{pitfall-missing-decomposition}), there is no voiced retroflex
      implosive. Following the spirit of the IPA, we propose to use <\charis{ᶑ}>
      \textsc{latin small letter d with hook and tail} at \uni{1D91} for this
      sound.
\item \textsc{Fortis/lenis} \newline
      Languages described as having a fortis/plain/lenis distinction that
      corresponds poorly with the traditional
      voiced/voiceless-unaspirated/voiceless-aspirated continuum can be marked
      using the voiceless glyph for the plain phoneme, and then 
      <\dia{0348}> \textsc{combining double vertical line below} at \\
      \uni{0348} to mark the fortis articulation, and/or <\dia{0349}>
      \textsc{combining left angle below} at \uni{0349} for the lenis
      articulation.
\item \textsc{Frictionalization} \newline 
      The diacritic <\dia{0353}>
      \textsc{combining x below} at \uni{0353} can be used to represent three
      types of frictionalized sounds: First, click consonants where the release
      of the anterior closure involves an ingressive sucking sound similar
      to a fricative, for example <kǃ͓ʰ>; second, frictionalized vowels
      (sounds that are phonologically vocalic, but with sufficiently close
      closures to create buzzing); and third, fricative sounds at places of
      articulation that do not have dedicated fricative glyphs, for example
      sounds with voiceless velar lateral frication, like <ʟ̥͓>.
\item \textsc{Derhoticization} \newline 
      For derhoticization we propose to use
      <\dia{032E}> \textsc{combining breve below} at \uni{032E}. 
\item \textsc{Coronal non-sibilant} \newline
      Languages described as having a sibilant/non-sibilant distinction among
      coronal fricatives and affricates can be handled using the subscript
      <\dia{0347}> \textsc{combining equals sign below} at \uni{0347} to mark
      the non-sibilant \\ phoneme.
\item \textsc{Glottalization} \newline 
      Glottalized sounds can be indicated using
      <\dia{02C0}> \textsc{modifier letter glottal stop} at \uni{02C0}, unless
      it is clear that either ejective or creaky voicing are the
      intended sounds (in which cases the standard IPA diacritics should be
      used). Pre-glottalized sounds can be marked with
      <\diareverse{02C0}> to the left of the base
      glyph, for example <\charis{ˀt}>.
\item \textsc{Voiced pre-aspiration} \newline Voiced sounds having
      pre-aspiration can be marked with
      <\diareverse{02B1}> \textsc{modifier letter
      small h with hook} at \uni{02B1} to the left of the base glyph, for
      example <\charis{ʱd}>.
\item \textsc{Epilaryngeal phonation} \newline 
      There are some rare articulations that make
      use of an epilaryngeal phonation mechanism (e.g.\ the “sphincteric vowels”
      of~!Xóõ). To represent these vowels, we propose to use the modifier <\dia{1D31}>
      \textsc{modifier letter capital e} at \uni{1D31} to denote such sphincteric
      phonation.

\end{itemize}


% ==========================
\section{Unicode IPA Recommendations}
\label{ipa-recommendations}
% ==========================

% Great quote for standardization -- last sentence(s) in Ladefoged 1990:552

Summarizing the pitfalls as discussed in this chapter, we propose to define
three different IPA encodings: strict-IPA, valid-IPA and widened-IPA.\@
Informally speaking, valid-IPA represents the current state of the IPA
\citep{IPA2015}. Strict-IPA represents a more constrained version of IPA, while
widened-IPA is a slightly extended version of IPA, allowing a few more symbols.

\ 

\noindent Strict-IPA encoding is supposed to be used when interoperability of
phonetic resources is intended. It is a strongly constrained subset of IPA
geared towards uniqueness of encoding. Ideally, for each transcription there
should be exactly one possible strict-IPA encoding. For each phonetic feature
there is only one possibility (see Section~\ref{pitfall-multiple-options-ipa})
and the IPA diacritics are forced into a canonical ordering (see
Section~\ref{pitfall-no-unique-diacritic-ordering}).

Valid-IPA does allow alternative symbols with the same phonetic meaning, as 
specified in the official IPA specifications. Also, valid-IPA does not enforce a 
specific ordering of diacritics, because the IPA does not propose any such 
ordering. This means that in valid-IPA the same phonetic intention can be 
encoded in multiple ways. This is sufficient for phonetically trained human 
eyes, but it is not sufficient for automatic interoperability.

Finally, widened-IPA includes a few more symbols which seem to be useful for
various special cases (see Section~\ref{ipa-additions}).

\ 

\noindent At the end of this chapter we have added a few longish tables summarizing all
159 different Unicode code points that form the basis of strict-IPA encoding
(107 letters, 36 diacritics and 16 remaining symbols). We also make these tables available 
online in CSV format.\footnote{\url{https://github.com/unicode-cookbook/cookbook/tree/master/book/tables}} 
Each of these tables shows a typical glyph, and then lists the Unicode Code point,
Unicode Name and IPA description for each symbol. Further, there is a table with 
the additional options for valid-IPA and a table with the additional options for 
widened-IPA.\@

\begin{itemize}[itemsep=6pt]

  \item \textsc{strict-IPA letters} \newline
        The 107 different IPA letters as allowed in strict-IPA encoding are
        listed in Table~\ref{tab:ipa_letters} starting on
        page~\pageref{tab:ipa_letters}.
  \item \textsc{strict-IPA diacritics} \newline The 36 different IPA diacritics and
        tone markers (both Unicode Modifier Letters and Combining Diacritical
        Marks) as allowed in strict-IPA encoding are listed in
        Table~\ref{tab:ipa_diacritics} starting on
        page~\pageref{tab:ipa_diacritics}.
  \item \textsc{strict-IPA remainders} \newline The 16 remaining IPA symbols
        (boundary, stress, tone letters and intonation markers) as allowed in strict-IPA
        encoding are listed in Table~\ref{tab:ipa_leftovers} on
        page~\pageref{tab:ipa_leftovers}.
  \item \textsc{valid-IPA additions} \newline The 16 additional symbols as allowed in
        valid-IPA encoding are listed in Table~\ref{tab:ipa_lax} on
        page~\pageref{tab:ipa_lax}.     
  \item \textsc{widened-IPA additions} \newline
        The 10 proposed additions to the IPA are listed in
        Table~\ref{tab:ipa_additions} on page~\pageref{tab:ipa_additions}.
  
\end{itemize}

\newpage
\input{tables/unicode_letters}
\input{tables/unicode_diacritics}
\input{tables/unicode_remaining}
\input{tables/unicode_valid}
\input{tables/unicode_additions}
